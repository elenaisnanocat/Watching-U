{% load static %}
{% load socialaccount %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <title>Document</title>
  <link rel="stylesheet" type="text/css" href="{% static 'css/login.css' %}">
  {% comment %} <script type="text/javascript" src="{% static 'js/file.js' %}" ></script> {% endcomment %}
  
  <style>
.box {
    width:  20%;
    height: 75%; 
}
/* 버튼 만들기 */
.social {
    margin-top:20px;
    width: 100%; height: 50px;
    background:#ae16ea;
    color:#fff;
    font-size: 35px;
    border:none;
    border-radius: 25px; 
    /* 버튼 모서리 둥글게 */
}

  </style>
  
  <script src="https://code.jquery.com/jquery-3.4.1.js"   
	integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="   
	crossorigin="anonymous"></script>
</head>
<body>
  <section class="login-form">
    <h1 id="blinking">Watching U</h1>
    <form action="" method="POST">
      {% csrf_token %}
        <p class="int-area"><input type="text" name="username" autofocus="" autocapitalize="none" autocomplete="username" maxlength="150" required="" id="id_username">
        <label for="id_username">USER NAME</label> </p>
        <p class="int-area"><input type="password" name="password" autocomplete="current-password" required="" id="id_password">
        <label for="id_password">PASSWORD</label> </p>
        <div class="btn-area">
          <button id="btn">Login</button>
        </div>
    </form>
    <li><a class="btn-area" href="{% url 'accounts:signup' %}"><button>Signup</button></a></li>
    <div class="d-flex justify-content-center">
    <li><a  href="{% provider_login_url "github" next="/movies/" %}"><button class="bg-dark social"><i class="fab fa-github p-2 me-2"></i> Github </button></a></li>
    <div class="me-5"></div>
    <li><a  href="{% provider_login_url "google" next="/movies/" %}"><button class="bg-light bg-gradient social text-secondary"><img class="box me-2 pt-2" src="{% static 'image/btn_google_signin_light_normal_web2x.png' %}" alt=""> Google </button></a></li>
    </div>
    {% comment %} <li><a class="btn-area" href="{% provider_login_url "google" next="/movies/" %}"><img  src="{% static 'image/btn_google_signin_light_normal_web2x.png' %}" alt="">Sign in with Github</a></li> {% endcomment %}
  </section>

  <script>
    let id_username = $('#id_username');
    let id_password = $('#id_password');
    let btn = $('#btn');
    {% comment %} 클릭 버튼 눌렀을때 동작 {% endcomment %}
    $(btn).on('click', function() {
    //아이디 비어있을때 1300초 뒤에 빨간색 제거(?)
      if($(id_username).val() == "") {
        $(id_username).next('label').addClass('warning');
        setTimeout(function() {
          $('label').removeClass('warning')
        },1300);
      }
      //비밀번호 비어있을때 1300초 뒤에 빨간색 제거(?)
      else if ($(id_password).val() == "") {
        $(id_password).next('label').addClass('warning');
        setTimeout(function() {
          $('label').removeClass('warning')
        },1300);
      }
    });

  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>


</body>
</html>
